import{j as t,u as d,P as x,a as h}from"./PlayerIcons.D0g_7UeF.js";import{g as m}from"./ApiService.MFN35oF4.js";import"./index.CydYXOmc.js";const p=()=>t.jsxs("svg",{role:"img",height:"16",width:"16","aria-hidden":"true",viewBox:"0 0 16 16",fill:"currentColor",children:[t.jsx("path",{d:"M8 1.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13zM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8z"}),t.jsx("path",{d:"M8 3.25a.75.75 0 0 1 .75.75v3.25H11a.75.75 0 0 1 0 1.5H7.25V4A.75.75 0 0 1 8 3.25z"})]}),j=(e,s)=>e.playlist?.id!=String(s.albumId),y=(e,s,l)=>{m(e.albumId).then(i=>{const{songs:r,playlist:n}=i;l({songs:r,playlist:n,song:e})}).then(()=>{s(!0)})},g=({song:e,isCurrentSong:s})=>{const{currentMusic:l,isPlaying:i,setIsPlaying:r,setCurrentMusic:n}=d(a=>a),c=a=>l.song?.id==a.id&&l.playlist?.albumId==a.albumId&&i,u=a=>{if(c(a)){r(!1);return}if(j(l,a)){y(a,r,n);return}l.song?.id!==a.id&&n({songs:l.songs,playlist:l.playlist,song:a}),r(!0)},o="hover:scale-125";return t.jsx("button",{className:"text-white",onClick:()=>u(e),children:c(e)?t.jsx(x,{className:o}):t.jsx(h,{className:o})})},N=e=>{const{song:s,playlist:l}=d(i=>i.currentMusic);return s?.id==e.id&&l?.albumId==e.albumId},I=({songs:e})=>t.jsxs("table",{className:"table-auto text-left min-w-full divide-y divide-gray-500/20",children:[t.jsx("thead",{className:"",children:t.jsxs("tr",{className:"text-zinc-400 text-sm",children:[t.jsx("th",{className:"px-4 py-2 font-light",children:"#"}),t.jsx("th",{className:"px-4 py-2 font-light",children:"Título"}),t.jsx("th",{className:"px-4 py-2 font-light",children:"Álbum"}),t.jsx("th",{className:"px-4 py-2 font-light",children:t.jsx(p,{})})]})}),t.jsxs("tbody",{children:[t.jsx("tr",{className:"h-[16px]"}),e.map((s,l)=>{const i=N(s);return t.jsxs("tr",{className:"text-gray-300 border-spacing-0 text-sm font-light hover:bg-white/10 overflow-hidden transition duration-300 group",children:[t.jsxs("td",{className:"relative px-4 py-2 rounded-tl-lg rounded-bl-lg w-5",children:[t.jsx("span",{className:"absolute top-5 opacity-100 transition-all group-hover:opacity-0",children:l+1}),t.jsx("div",{className:"absolute top-5 opacity-0 transition-all group-hover:opacity-100",children:t.jsx(g,{song:s,isCurrentSong:i})})]}),t.jsxs("td",{className:"px-4 py-2 flex gap-3",children:[t.jsx("picture",{className:"",children:t.jsx("img",{src:s.image,alt:s.title,className:"w-11 h-11"})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("h3",{className:`text-base font-normal
                        ${i?"text-green-400":"text-White"}
                        `,children:s.title}),t.jsx("span",{children:s.artists.join(", ")})]})]}),t.jsx("td",{className:"px-4 py-2",children:s.album}),t.jsx("td",{className:"px-4 py-2 rounded-tr-lg rounded-br-lg",children:s.duration})]},`{song.albumId}-${s.id}`)})]})]});export{I as MusicsTable};
